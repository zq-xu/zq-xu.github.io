import{_ as s,o as a,c as n,Q as l}from"./chunks/framework.48927342.js";const m=JSON.parse('{"title":"Helm工具","description":"","frontmatter":{"date":"2022-11-27T00:00:00.000Z"},"headers":[],"relativePath":"zh/tools/helm.md","filePath":"zh/tools/helm.md"}'),e={name:"zh/tools/helm.md"},p=l(`<h1 id="helm工具" tabindex="-1">Helm工具 <a class="header-anchor" href="#helm工具" aria-label="Permalink to &quot;Helm工具&quot;">​</a></h1><p><a href="https://helm.sh/zh/docs/" target="_blank" rel="noreferrer">Helm工具</a>本质上是一个二进制可执行文件，主要用于在Kubernetes环境中安装<code>Chart包</code>。</p><h2 id="安装helm工具" tabindex="-1">安装Helm工具 <a class="header-anchor" href="#安装helm工具" aria-label="Permalink to &quot;安装Helm工具&quot;">​</a></h2><p>此处选择的Helm工具的<code>v3.7.1</code>版本，更多Helm版本可参考 <a href="https://github.com/helm/helm/releases" target="_blank" rel="noreferrer">Helm Realease</a>.</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;"># 从GitHub上进行下载Helm安装包</span></span>
<span class="line"><span style="color:#B392F0;">wget</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">https://get.helm.sh/helm-v3.7.1-linux-amd64.tar.gz</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 解压下载的helm压缩包</span></span>
<span class="line"><span style="color:#B392F0;">tar</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-zxvf</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">helm-v3.7.1-linux-amd64.tar.gz</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 将解压后的helm可执行文件移动至$PATH路径下</span></span>
<span class="line"><span style="color:#B392F0;">cp</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">linux-amd64/helm</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">/usr/local/bin</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 通过helm指令查看helm version</span></span>
<span class="line"><span style="color:#B392F0;">helm</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">version</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">#终端打印信息正常，表示helm工具可正常使用</span></span>
<span class="line"><span style="color:#B392F0;">version.BuildInfo</span><span style="color:#E1E4E8;">{Version:</span><span style="color:#B392F0;">&quot;v3.7.1&quot;</span><span style="color:#B392F0;">……</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;"># 从GitHub上进行下载Helm安装包</span></span>
<span class="line"><span style="color:#6F42C1;">wget</span><span style="color:#24292E;"> </span><span style="color:#032F62;">https://get.helm.sh/helm-v3.7.1-linux-amd64.tar.gz</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 解压下载的helm压缩包</span></span>
<span class="line"><span style="color:#6F42C1;">tar</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-zxvf</span><span style="color:#24292E;"> </span><span style="color:#032F62;">helm-v3.7.1-linux-amd64.tar.gz</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 将解压后的helm可执行文件移动至$PATH路径下</span></span>
<span class="line"><span style="color:#6F42C1;">cp</span><span style="color:#24292E;"> </span><span style="color:#032F62;">linux-amd64/helm</span><span style="color:#24292E;"> </span><span style="color:#032F62;">/usr/local/bin</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 通过helm指令查看helm version</span></span>
<span class="line"><span style="color:#6F42C1;">helm</span><span style="color:#24292E;"> </span><span style="color:#032F62;">version</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">#终端打印信息正常，表示helm工具可正常使用</span></span>
<span class="line"><span style="color:#6F42C1;">version.BuildInfo</span><span style="color:#24292E;">{Version:</span><span style="color:#6F42C1;">&quot;v3.7.1&quot;</span><span style="color:#6F42C1;">……</span></span></code></pre></div><h2 id="helm工具常用操作" tabindex="-1">Helm工具常用操作 <a class="header-anchor" href="#helm工具常用操作" aria-label="Permalink to &quot;Helm工具常用操作&quot;">​</a></h2><h3 id="chart仓库添加" tabindex="-1">Chart仓库添加 <a class="header-anchor" href="#chart仓库添加" aria-label="Permalink to &quot;Chart仓库添加&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;"># $repoName 添加的Chart仓库的名称；</span></span>
<span class="line"><span style="color:#6A737D;"># $helmRepoUrl： 添加的Chart仓库的地址。</span></span>
<span class="line"><span style="color:#B392F0;">helm</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">repoUrl</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">add</span><span style="color:#E1E4E8;"> $repoName $repoUrl</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;"># $repoName 添加的Chart仓库的名称；</span></span>
<span class="line"><span style="color:#6A737D;"># $helmRepoUrl： 添加的Chart仓库的地址。</span></span>
<span class="line"><span style="color:#6F42C1;">helm</span><span style="color:#24292E;"> </span><span style="color:#032F62;">repoUrl</span><span style="color:#24292E;"> </span><span style="color:#032F62;">add</span><span style="color:#24292E;"> $repoName $repoUrl</span></span></code></pre></div><h3 id="chart仓库更新" tabindex="-1">Chart仓库更新 <a class="header-anchor" href="#chart仓库更新" aria-label="Permalink to &quot;Chart仓库更新&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">helm</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">repo</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">update</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">helm</span><span style="color:#24292E;"> </span><span style="color:#032F62;">repo</span><span style="color:#24292E;"> </span><span style="color:#032F62;">update</span></span></code></pre></div><h3 id="chart仓库列表展示" tabindex="-1">Chart仓库列表展示 <a class="header-anchor" href="#chart仓库列表展示" aria-label="Permalink to &quot;Chart仓库列表展示&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">helm</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">repo</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">list</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 终端打印信息</span></span>
<span class="line"><span style="color:#B392F0;">NAME</span><span style="color:#E1E4E8;">        	</span><span style="color:#9ECBFF;">URL</span><span style="color:#E1E4E8;">                           </span></span>
<span class="line"><span style="color:#B392F0;">rook-release</span><span style="color:#E1E4E8;">	</span><span style="color:#9ECBFF;">https://charts.rook.io/release</span></span>
<span class="line"><span style="color:#B392F0;">chartmuseum</span><span style="color:#E1E4E8;"> 	</span><span style="color:#9ECBFF;">http://192.168.1.240:8090</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">helm</span><span style="color:#24292E;"> </span><span style="color:#032F62;">repo</span><span style="color:#24292E;"> </span><span style="color:#032F62;">list</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 终端打印信息</span></span>
<span class="line"><span style="color:#6F42C1;">NAME</span><span style="color:#24292E;">        	</span><span style="color:#032F62;">URL</span><span style="color:#24292E;">                           </span></span>
<span class="line"><span style="color:#6F42C1;">rook-release</span><span style="color:#24292E;">	</span><span style="color:#032F62;">https://charts.rook.io/release</span></span>
<span class="line"><span style="color:#6F42C1;">chartmuseum</span><span style="color:#24292E;"> 	</span><span style="color:#032F62;">http://192.168.1.240:8090</span></span></code></pre></div><h3 id="chart仓库移除" tabindex="-1">Chart仓库移除 <a class="header-anchor" href="#chart仓库移除" aria-label="Permalink to &quot;Chart仓库移除&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;"># $repoName 添加的Chart仓库的名称；</span></span>
<span class="line"><span style="color:#B392F0;">helm</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">repo</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">remove</span><span style="color:#E1E4E8;"> $repoName</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;"># $repoName 添加的Chart仓库的名称；</span></span>
<span class="line"><span style="color:#6F42C1;">helm</span><span style="color:#24292E;"> </span><span style="color:#032F62;">repo</span><span style="color:#24292E;"> </span><span style="color:#032F62;">remove</span><span style="color:#24292E;"> $repoName</span></span></code></pre></div><h3 id="在chart仓库中查找chart包" tabindex="-1">在Chart仓库中查找Chart包 <a class="header-anchor" href="#在chart仓库中查找chart包" aria-label="Permalink to &quot;在Chart仓库中查找Chart包&quot;">​</a></h3><p>helm版本号符合<a href="https://semver.org/spec/v2.0.0.html" target="_blank" rel="noreferrer">语义化版本2标准</a>:</p><ul><li>正式发布版本示例：v1.0.0;</li><li>预发布版本号示例：v1.0.0-alpha;</li></ul><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;"># $keyWord 需要查找的Chart包的名称或者其他关键字(模糊搜索)；</span></span>
<span class="line"><span style="color:#6A737D;"># 默认展示最新正式版本号</span></span>
<span class="line"><span style="color:#B392F0;">helm</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">search</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">repo</span><span style="color:#E1E4E8;"> $keyWord</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 终端打印信息</span></span>
<span class="line"><span style="color:#6A737D;"># $repoName Chart包所在Chart仓库的名称；</span></span>
<span class="line"><span style="color:#6A737D;"># $chartName 查找到的Chart包的名称</span></span>
<span class="line"><span style="color:#B392F0;">NAME</span><span style="color:#E1E4E8;">                </span><span style="color:#9ECBFF;">CHART</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">VERSION</span><span style="color:#E1E4E8;">	</span><span style="color:#9ECBFF;">APP</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">VERSION</span><span style="color:#E1E4E8;">	</span><span style="color:#9ECBFF;">DESCRIPTION</span><span style="color:#E1E4E8;">                </span></span>
<span class="line"><span style="color:#E1E4E8;">$repoName/$chartName	1.0.0        	1.0.0      	A Helm chart </span><span style="color:#F97583;">for</span><span style="color:#E1E4E8;"> Kubernetes</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;"># $keyWord 需要查找的Chart包的名称或者其他关键字(模糊搜索)；</span></span>
<span class="line"><span style="color:#6A737D;"># 默认展示最新正式版本号</span></span>
<span class="line"><span style="color:#6F42C1;">helm</span><span style="color:#24292E;"> </span><span style="color:#032F62;">search</span><span style="color:#24292E;"> </span><span style="color:#032F62;">repo</span><span style="color:#24292E;"> $keyWord</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 终端打印信息</span></span>
<span class="line"><span style="color:#6A737D;"># $repoName Chart包所在Chart仓库的名称；</span></span>
<span class="line"><span style="color:#6A737D;"># $chartName 查找到的Chart包的名称</span></span>
<span class="line"><span style="color:#6F42C1;">NAME</span><span style="color:#24292E;">                </span><span style="color:#032F62;">CHART</span><span style="color:#24292E;"> </span><span style="color:#032F62;">VERSION</span><span style="color:#24292E;">	</span><span style="color:#032F62;">APP</span><span style="color:#24292E;"> </span><span style="color:#032F62;">VERSION</span><span style="color:#24292E;">	</span><span style="color:#032F62;">DESCRIPTION</span><span style="color:#24292E;">                </span></span>
<span class="line"><span style="color:#24292E;">$repoName/$chartName	1.0.0        	1.0.0      	A Helm chart </span><span style="color:#D73A49;">for</span><span style="color:#24292E;"> Kubernetes</span></span></code></pre></div><div class="tip custom-block"><p class="custom-block-title">参数</p><ul><li>--version $chartVersion: 指定版本号；</li><li>--devel: 展示包括预发布版本号在内的最新的预发布版本号;</li><li>--versions: 展示所有正式发布的版本号;</li><li>--versions --devel: 展示所有包括预发布版本号的所有版本号;</li></ul></div><h3 id="从chart仓库下载chart包到本地" tabindex="-1">从Chart仓库下载Chart包到本地 <a class="header-anchor" href="#从chart仓库下载chart包到本地" aria-label="Permalink to &quot;从Chart仓库下载Chart包到本地&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;"># $repoName Chart包所在Chart仓库的名称；</span></span>
<span class="line"><span style="color:#6A737D;"># $chartName Chart包名称</span></span>
<span class="line"><span style="color:#B392F0;">helm</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">pull</span><span style="color:#E1E4E8;"> $repoName</span><span style="color:#9ECBFF;">/</span><span style="color:#E1E4E8;">$chartName</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;"># $repoName Chart包所在Chart仓库的名称；</span></span>
<span class="line"><span style="color:#6A737D;"># $chartName Chart包名称</span></span>
<span class="line"><span style="color:#6F42C1;">helm</span><span style="color:#24292E;"> </span><span style="color:#032F62;">pull</span><span style="color:#24292E;"> $repoName</span><span style="color:#032F62;">/</span><span style="color:#24292E;">$chartName</span></span></code></pre></div><h3 id="安装chart包" tabindex="-1">安装Chart包 <a class="header-anchor" href="#安装chart包" aria-label="Permalink to &quot;安装Chart包&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;"># $name: 安装名称</span></span>
<span class="line"><span style="color:#6A737D;"># $chartPath 本地Chart包路径，或Chart仓库中的Chart(格式为\`repoName/chartName\`)</span></span>
<span class="line"><span style="color:#B392F0;">helm</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">install</span><span style="color:#E1E4E8;"> $name $chartPath</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;"># $name: 安装名称</span></span>
<span class="line"><span style="color:#6A737D;"># $chartPath 本地Chart包路径，或Chart仓库中的Chart(格式为\`repoName/chartName\`)</span></span>
<span class="line"><span style="color:#6F42C1;">helm</span><span style="color:#24292E;"> </span><span style="color:#032F62;">install</span><span style="color:#24292E;"> $name $chartPath</span></span></code></pre></div><h3 id="升级chart包" tabindex="-1">升级Chart包 <a class="header-anchor" href="#升级chart包" aria-label="Permalink to &quot;升级Chart包&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;"># $name: 安装名称</span></span>
<span class="line"><span style="color:#6A737D;"># $chartPath 本地Chart包路径，或Chart仓库中的Chart(格式为\`repoName/chartName\`)</span></span>
<span class="line"><span style="color:#B392F0;">helm</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">upgrade</span><span style="color:#E1E4E8;"> $name $chartPath</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;"># $name: 安装名称</span></span>
<span class="line"><span style="color:#6A737D;"># $chartPath 本地Chart包路径，或Chart仓库中的Chart(格式为\`repoName/chartName\`)</span></span>
<span class="line"><span style="color:#6F42C1;">helm</span><span style="color:#24292E;"> </span><span style="color:#032F62;">upgrade</span><span style="color:#24292E;"> $name $chartPath</span></span></code></pre></div><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>升级Chart包时，安装时指定的所有参数会失效，需要重新指定所有需要的参数。</p></div><h2 id="helm工具常用参数" tabindex="-1">Helm工具常用参数 <a class="header-anchor" href="#helm工具常用参数" aria-label="Permalink to &quot;Helm工具常用参数&quot;">​</a></h2><h3 id="n-namespace" tabindex="-1">-n $namespace <a class="header-anchor" href="#n-namespace" aria-label="Permalink to &quot;-n $namespace&quot;">​</a></h3><p>参数<code>-n $namespace</code>表示指定操作的namespace;</p><h3 id="create-namespace" tabindex="-1">--create-namespace <a class="header-anchor" href="#create-namespace" aria-label="Permalink to &quot;--create-namespace&quot;">​</a></h3><p>参数<code>--create-namespace</code>表示如果指定的namespace不存在，则新建这个namespace.</p><h3 id="verision-chartversion" tabindex="-1">--verision $chartVersion <a class="header-anchor" href="#verision-chartversion" aria-label="Permalink to &quot;--verision $chartVersion&quot;">​</a></h3><p>参数<code>--verision $chartVersion</code>表示指定安装的Chart包的版本号</p>`,33),o=[p];function t(r,c,h,i,y,d){return a(),n("div",null,o)}const C=s(e,[["render",t]]);export{m as __pageData,C as default};
